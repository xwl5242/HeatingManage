<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>功能列表</title>
    <link rel="shortcut icon" href="../favicon.ico">
    <!---->
    <link rel="stylesheet" href="../css/ztree/css/metroStyle/metroStyle.css" type="text/css">


    <link href="../css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="../css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link href="../css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="../css/plugins/chosen/chosen.css" rel="stylesheet">

    <link href="../css/animate.css" rel="stylesheet">
    <link href="../css/style.css?v=4.1.0" rel="stylesheet">
    <link href="../css/mystyle.css" rel="stylesheet">
    <!-- 全局js -->
    <script src="../js/jquery.min.js?v=2.1.4"></script>
    <script src="../js/bootstrap.min.js?v=3.3.6"></script>
    <!--自定义-->
    <script src="../js/content.js?v=1.0.0"></script>

    <!--下拉框chosen-->
    <script src="../js/plugins/chosen/chosen.jquery.js"></script>

    <!-- Bootstrap table -->
    <script src="../js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="../js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
    <script src="../js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>

    <script type="text/javascript" src="../css/ztree/js/jquery.ztree.core.js"></script>
    <script type="text/javascript" src="../css/ztree/js/jquery.ztree.excheck.js"></script>
    <script type="text/javascript" src="../css/ztree/js/jquery.ztree.exedit.js"></script>

    <script type="application/javascript">

            $(function() {
                //页面说明
                console.info("页面说明：\n1.左侧为系统菜单树，系统菜单分为用户菜单和系统菜单；\n" +
                        "2.菜单所有节点只有一个检索功能，叶子节点可以有其它的功能；\n" +
                        "3.唯一标识是唯一的且不能修改；\n" +
                        "功能：\n" +
                        "【添加】【删除】【修改】\n" +
                        "字段：\n功能主键、功能名称、唯一标识、是否检索\n" +
                        "创建人、创建人组织、创建时间、修改人、修改人组织、修改时间、是否删除" );

                //bootstrapTable
                var bt_data = [{
                    "Tid": "1",
                    "gnmc": "用户检索",
                    "wybs": "userSearch",
                    "sfjs": "是",
                    "cjjg": "华热科技",
                    "cjz": "超级管理员",
                    "cjsj": "2017-01-01 15:23:23",
                    "cz": '<a class="btn btn-xs btn-info" title="编辑" onclick="editRole()"> <i class="fa fa-edit"></i></a>&nbsp;' +
                            '<a class="btn btn-xs btn-danger" title="删除" onclick="roleAuthPage()"><i class="fa fa-trash-o"></i></a>'
                }, {
                    "Tid": "2",
                    "gnmc": "添加用户",
                    "wybs": "userAdd",
                    "sfjs": "否",
                    "cjjg": "华热科技",
                    "cjz": "超级管理员",
                    "cjsj": "2017-01-01 15:23:23",
                    "cz": '<a class="btn btn-xs btn-info" title="编辑" onclick="editRole()"> <i class="fa fa-edit"></i></a>&nbsp;' +
                            '<a class="btn btn-xs btn-danger" title="删除" onclick="roleAuthPage()"><i class="fa fa-trash-o"></i></a>'
                }, {
                    "Tid": "2",
                    "gnmc": "添加用户",
                    "wybs": "userAdd",
                    "sfjs": "否",
                    "cjjg": "华热科技",
                    "cjz": "超级管理员",
                    "cjsj": "2017-01-01 15:23:23",
                    "cz": '<a class="btn btn-xs btn-info" title="编辑" onclick="editRole()"> <i class="fa fa-edit"></i></a>&nbsp;' +
                            '<a class="btn btn-xs btn-danger" title="删除" onclick="roleAuthPage()"><i class="fa fa-trash-o"></i></a>'
                }, {
                    "Tid": "2",
                    "gnmc": "添加用户",
                    "wybs": "userAdd",
                    "sfjs": "否",
                    "cjjg": "华热科技",
                    "cjz": "超级管理员",
                    "cjsj": "2017-01-01 15:23:23",
                    "cz": '<a class="btn btn-xs btn-info" title="编辑" onclick="editRole()"> <i class="fa fa-edit"></i></a>&nbsp;' +
                            '<a class="btn btn-xs btn-danger" title="删除" onclick="roleAuthPage()"><i class="fa fa-trash-o"></i></a>'
                }];


                $('#exampleTableFromData').bootstrapTable({
                    data: bt_data,
                    pagination:true,
                    striped:true,
                    pageSize:2,
                    pageList:[2,10,30],
                    height:480
                    // mobileResponsive: true,
                });

                //
                $.fn.zTree.init($("#treeDemo"), setting, zNodes);

                //下拉框js
                $(".chosen-select").chosen();
            });

            var setting = {
                view: {
                    selectedMulti: false
                },
                data: {
                    simpleData: {
                        enable: true
                    }
                }
            };

            var zNodes =[
                {id:0,pId:null,name:"系统菜单", open:true},
                {id:1,pId:null,name:"用户菜单", open:true},
                { id:2, pId:0, name:"权限管理", open:true},
                { id:21, pId:2, name:"用户管理", open:true},
                { id:22, pId:2, name:"角色管理", open:true},
                { id:3, pId:1, name:"组织机构管理", open:true},
                { id:31, pId:3, name:"组织机构"},
                { id:32, pId:3, name:"换热站管理"},
                { id:4, pId:0, name:"系统管理"},
                { id:5, pId:0, name:"系统监控"},
                { id:6, pId:1, name:"权限管理", open:true},
                { id:61, pId:6, name:"用户管理", open:true},
                { id:62, pId:6, name:"角色管理", open:true}
            ];



    </script>
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-sm-3 col-xs-3 col-md-3 col-lg-3">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div>
                        <ul id="treeDemo" class="ztree"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-9 col-xs-9 col-md-9 col-lg-9">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <form id="roles-form" role="form" class="form-horizontal m-t">
                        <input type="hidden" name="_method" value="PATCH">

                        <div class="row">
                            <div class="col-sm-8 col-xs-8 col-md-8 col-lg-8  btn-group">
                                <button type="button" class="btn btn-sm btn-info" onclick="addRole()"><i class="fa fa-plus"></i>添加</button>
                            </div>
                        </div>
                    </form>
                    <div class="example">
                    <table id="exampleTableFromData" data-mobile-responsive="true">
                        <thead>
                        <tr>
                            <th data-field="Tid">ID</th>
                            <th data-field="gnmc">功能名称</th>
                            <th data-field="wybs">唯一标识</th>
                            <th data-field="sfjs">是否检索</th>
                            <th data-field="cjjg">创建机构</th>
                            <th data-field="cjz">创建者</th>
                            <th data-field="cjsj">创建时间</th>
                            <th data-field="cz">操作</th>
                        </tr>
                        </thead>
                    </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--<div id="layer-div" style="display: none"></div>

<%--jtemplement 模板--%>
<textarea id="tpl-list" style="display: none">
    {#foreach $T.data as item}
    <tr>
        <td>
            <input type="checkbox" class="i-checks" value="{$T.item.role_id}" name="input[]">
        </td>
        <td>{$T.item.role_name}</td>
        <td>{$T.item.role_des}</td>
        <td title="{$T.item.memo}">{formatText($T.item.memo,10)}</td>
        <td>
            <a class="btn btn-white btn-xs btn-bitbucket" title="查看">
                <i class="fa fa-file-text-o"></i>
            </a>
                <a class="btn btn-danger btn-xs btn-bitbucket" title="删除" onclick="deleteRole('{$T.item.role_id}')">
                    <i class="fa fa-trash-o"></i>
                </a>
        </td>
    </tr>
    {#/for}
</textarea>-->
</body>
</html>